<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>So s√°nh c·∫•u h√¨nh laptop</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="../../public/css/compare.css">
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
    <script type="module" src="../../routes/Firebase-Config.js"></script>
    <script type="module" src="../../routes/Compare.js"></script>
</head>
<body>
    <div class="container">
        <div class="compare-config">
            <h2>So s√°nh c·∫•u h√¨nh</h2>
            <div class="compare-config-container">
                <div class="compare-config-left">
                    <h3>Laptop 1</h3>
                    <img id="laptop-1-image" alt="H√¨nh ·∫£nh laptop 1">
                    <ul>
                        <li>CPU: <span id="cpu-1"></span></li>
                        <li>RAM: <span id="ram-1"></span></li>
                        <li>SSD: <span id="ssd-1"></span></li>
                        <li>VGA: <span id="vga-1"></span></li>
                    </ul>
                </div>
                <div class="compare-config-right">
                    <h3>Laptop 2</h3>
                    <img id="laptop-2-image" alt="H√¨nh ·∫£nh laptop 2">
                    <ul>
                        <li>CPU: <span id="cpu-2"></span></li>
                        <li>RAM: <span id="ram-2"></span></li>
                        <li>SSD: <span id="ssd-2"></span></li>
                        <li>VGA: <span id="vga-2"></span></li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="choose-laptop">
            <h2>Ch·ªçn laptop ƒë·ªÉ so s√°nh</h2>
            <select id="laptop-1">
                <option value="">Ch·ªçn laptop 1</option>
            </select>
            <select id="laptop-2">
                <option value="">Ch·ªçn laptop 2</option>
            </select>
            <button id="compare-btn">So s√°nh</button>
        </div>

        <!-- Khu v·ª±c hi·ªÉn th·ªã ph·∫£n h·ªìi t·ª´ AI -->
        <div class="ai-response">
            <h2>Nh·∫≠n x√©t c·ªßa AI</h2>
            <div id="ai-response">Ch∆∞a c√≥ d·ªØ li·ªáu</div>
        </div>
    </div>

    <script src="../../public/js/function.js"></script>
    <script>
        document.getElementById("compare-btn").addEventListener("click", async () => {
            const laptop1 = document.getElementById("laptop-1").value;
            const laptop2 = document.getElementById("laptop-2").value;
            const aiResponseDiv = document.getElementById("ai-response");

            if (!laptop1 || !laptop2) {
                aiResponseDiv.innerHTML = "‚ö†Ô∏è Vui l√≤ng ch·ªçn c·∫£ hai laptop!";
                return;
            }

            aiResponseDiv.innerHTML = "‚è≥ ƒêang ph√¢n t√≠ch...";

            try {
                const response = await fetch("http://127.0.0.1:5000/compare", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ laptop1, laptop2 })
                });

                const result = await response.json();
                aiResponseDiv.innerHTML = `<strong>üì¢ AI nh·∫≠n x√©t:</strong> ${result.message}`;
            } catch (error) {
                console.error("L·ªói khi g·ªçi API:", error);
                aiResponseDiv.innerHTML = "‚ùå L·ªói khi l·∫•y d·ªØ li·ªáu t·ª´ AI.";
            }
        });
    </script>
</body>
</html>